#pragma checksum "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "051bdd8df497325a6d8a1390d25d5dab3abf490e"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Message_MessageBoard), @"mvc.1.0.view", @"/Views/Message/MessageBoard.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Message/MessageBoard.cshtml", typeof(AspNetCore.Views_Message_MessageBoard))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\_ViewImports.cshtml"
using MessageBoardApp;

#line default
#line hidden
#line 2 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\_ViewImports.cshtml"
using MessageBoardApp.Models;

#line default
#line hidden
#line 1 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"051bdd8df497325a6d8a1390d25d5dab3abf490e", @"/Views/Message/MessageBoard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"554ad851f98a7d2b0880b17d20471a5bb9a6e9b2", @"/Views/_ViewImports.cshtml")]
    public class Views_Message_MessageBoard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 2 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
  
    ViewData["Title"] = "Message Board";

#line default
#line hidden
            BeginContext(84, 3974, true);
            WriteLiteral(@"
<div class=""col-md-12 topSpacePanel"" ng-app=""MessageBrdModule"">
    <div class=""col-md-offset-3"">
        <div class=""panel panel-default"" style=""width:500px;"" ng-controller=""MessageController"">
            <div class=""panel-heading text-center""><h4>Message Board</h4></div>
            <div class=""panel-body"">
                <div class=""row"">
                    <div class=""col-md-12"">
                        <textarea id=""txtMessage"" ng-model=""MainPostData.PostedMes"" class=""form-control"" placeholder=""Say Somthing Here..""></textarea>
                    </div>
                </div>
                <div class=""row"" style=""margin-top:10px;"">
                    <div class=""col-md-12"">
                        <div class=""text-right"">
                            <button id=""btnPostMainMes"" class=""btn btn-primary"" ng-click=""postMainMessage()"">Post</button>
                        </div>
                    </div>
                </div>
                <div class=""row"" style=""margin-top:10px;"" ");
            WriteLiteral(@"ng-repeat=""mesDetails in AllDbMessages track by $index"">
                    <div class=""col-md-12 panel panel-default"" style=""margin-left:15px;width:470px;"">
                        <div class=""col-md-6"">
                            <label>{{mesDetails.logerFullName}}</label>
                        </div>
                        <div class=""clearfix""></div>
                        <div class=""col-md-12"">
                            <span>{{mesDetails.postedMessages}}</span>
                        </div>
                    </div>
                    <div class="" col-md-12 panel panel-default"" style=""margin-left:15px;width:470px; margin-top:-20px;"">
                        <div class=""col-md-4"" ng-if=""mesDetails.userActivity == null || mesDetails.userActivity.isLike == false "">
                            <a class="""" id=""linkLike_{{mesDetails.messageId}}"" ng-click=""clickForLike(mesDetails.messageId,mesDetails.loginUserId)"" style=""cursor:pointer;color:dimgray;""><span>10</span><i class=""glyphicon ");
            WriteLiteral(@"glyphicon-thumbs-up""></i>Like</a>
                        </div>
                        <div class=""col-md-4"" ng-if=""mesDetails.userActivity.isLike == true"">
                            <a class="""" id=""linkLike_{{mesDetails.messageId}}"" ng-click=""clickForLike(mesDetails.messageId,mesDetails.loginUserId)"" style=""cursor:pointer;color:dodgerblue;""><span>10</span><i class=""glyphicon glyphicon-thumbs-up""></i>Like</a>
                        </div>
                        <div class=""col-md-3"">
                            <a  id=""lnkComment_{{mesDetails.messageId}}"" ng-click=""expanded = !expanded"" expand data-target=""{{$index}}"" style=""cursor:pointer;color:dimgray;""><i class=""glyphicon glyphicon-comment""></i>Comment</a>
                        </div>
                        <div class=""row"" ng-show=""expanded"" id=""{{$index}}"">

                            <div ng-repeat=""getComment in mesDetails.userCommentsAct"" id=""dvDispPostCmnt_{{getComment.activityId}}"" class=""col-md-12 panel panel-default"" style=""mar");
            WriteLiteral(@"gin-left:15px;width:400px;"">
                                <div class=""col-md-6"">
                                    <label id=""lblPostedUserName_{{getComment.activityId}}"">{{getComment.commentedUserName}}</label>
                                </div>
                                <div class=""clearfix""></div>
                                <div class=""col-md-12"" style=""margin-bottom:10px;"">
                                    <span style=""background-color:aliceblue;"" id=""spShowPostedCm_{{getComment.activityId}}"">{{getComment.postedComments}} </span>
                                </div>
                            </div>
                            <div class=""col-md-12 panel panel-default"" id=""dvWritePostCmnt_{{mesDetails.messageId}}"" style=""margin-left:15px;width:400px;"">
                                <div class=""col-md-6"">
                                    <label>");
            EndContext();
            BeginContext(4059, 37, false);
#line 56 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                                      Write(Context.Session.GetString("FullName"));

#line default
#line hidden
            EndContext();
            BeginContext(4096, 933, true);
            WriteLiteral(@"</label>
                                </div>
                                <div class=""clearfix""></div>
                                <div class=""col-md-9"" style=""margin-bottom:10px;"">
                                    <textarea id=""txtForComment_{{mesDetails.messageId}}"" class=""form-control clrTextArea""></textarea>
                                </div>
                                <div class=""col-md-3"">
                                    <div class=""text-right"">
                                        <button id=""btnPostCmnt"" class=""btn btn-primary"" ng-click=""btnPostComments(mesDetails.messageId,mesDetails.loginUserId)"">Share</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</div>

");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(5047, 471, true);
                WriteLiteral(@"

<script type=""text/javascript"">

        var app = angular.module(""MessageBrdModule"", []);
        app.controller(""MessageController"", function ($scope, MessageBoardService) {

            $scope.postedMessage = """";
            $scope.ifPostMess = false;
            $scope.lblShowComment = """";
            $scope.AllComments = {};
            $scope.MainPostData = {};
            $scope.AllDbMessages = {};
            $scope.MainPostData.LoginUserId = '");
                EndContext();
                BeginContext(5519, 35, false);
#line 91 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                                          Write(Context.Session.GetString("UserId"));

#line default
#line hidden
                EndContext();
                BeginContext(5554, 300, true);
                WriteLiteral(@"';
            $scope.MsgWiseLikeData = {};
            $scope.MsgWiseComments = {};

            GetMainPostedMess();

            $scope.postMainMessage = function () {
                $scope.ifPostMess = true;
                $.ajax({
                type: ""POST"",
                url: '");
                EndContext();
                BeginContext(5855, 40, false);
#line 101 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                 Write(Url.Action("SaveMainPostMes", "Message"));

#line default
#line hidden
                EndContext();
                BeginContext(5895, 1003, true);
                WriteLiteral(@"',
                data: $scope.MainPostData,
                    success: function (result) {
                        if (result == ""DataSaved"") {
                            $scope.MainPostData = {};
                            $(""#txtMessage"").val('');
                            alert(""Data Saved Successfully"");

                            GetMainPostedMess();
                        }
                        else {
                            alert(""There is something error"");
                        }
                    }
                });
            }

            function GetMainPostedMess() {
                MessageBoardService.GetAllMainMessages().then(function (p1) {
                    if (p1.data != null) {
                        $scope.AllDbMessages = p1.data;
                   }

                });
            }


            $scope.clickForLike = function (getMesId,getPostedUserId) {
                $scope.MsgWiseLikeData.LoginUserId = '");
                EndContext();
                BeginContext(6899, 35, false);
#line 129 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                                                 Write(Context.Session.GetString("UserId"));

#line default
#line hidden
                EndContext();
                BeginContext(6934, 926, true);
                WriteLiteral(@"';
                $scope.MsgWiseLikeData.PostedUserId = getPostedUserId;
                $scope.MsgWiseLikeData.PostedMessageId = getMesId;

                MessageBoardService.SendLikeUpdateOnClick($scope.MsgWiseLikeData).then(function (userActiveData) {
                    if (userActiveData.activityId != 0) {
                        if (userActiveData.isLike == true) {
                            $(""#linkLike_"" + getMesId).css({ 'color': 'dodgerblue' });
                        }
                        else if (userActiveData.isLike == false) {
                            $(""#linkLike_"" + getMesId).css({ 'color': 'dimgray' });
                        }

                        $scope.MsgWiseLikeData = {};
                    }
                });
            }

            $scope.btnPostComments = function (MesId,getCmntPostedUserId) {
                $scope.MsgWiseComments.LoginUserId = '");
                EndContext();
                BeginContext(7861, 35, false);
#line 148 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                                                 Write(Context.Session.GetString("UserId"));

#line default
#line hidden
                EndContext();
                BeginContext(7896, 1139, true);
                WriteLiteral(@"';
                $scope.MsgWiseComments.PostedUserId = getCmntPostedUserId;
                $scope.MsgWiseComments.PostedMessageId = MesId;
                $scope.MsgWiseComments.PostedComments = $(""#txtForComment_"" + MesId).val();

                MessageBoardService.PostCommentByUsers($scope.MsgWiseComments).then(function (userCmntData) {
                    if (userCmntData.activityId != 0) {
                        if (userCmntData.postedComments != null) {
                            GetMainPostedMess();
                            $("".clrTextArea"").val('');
                            $scope.MsgWiseComments = {};
                        }
                    }
                });
            }
        });

        app.service('MessageBoardService', function ($http) {
            this.GetAllMainMessages = function () {
                var request = $http.get(""/Message/GetAllMainPostMes"");
                return request;
            }
            this.SendLikeUpdateOnClick = functi");
                WriteLiteral("on (GetLikeData) {\r\n                var request =   $.ajax({\r\n                type: \"POST\",\r\n                url: \'");
                EndContext();
                BeginContext(9036, 40, false);
#line 173 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                 Write(Url.Action("SaveLikeUpdated", "Message"));

#line default
#line hidden
                EndContext();
                BeginContext(9076, 272, true);
                WriteLiteral(@"',
                data: GetLikeData
                });
                return request;
            }

            this.PostCommentByUsers = function (GetCommentData) {
                var request =   $.ajax({
                type: ""POST"",
                url: '");
                EndContext();
                BeginContext(9349, 43, false);
#line 182 "C:\Nirali\Projects\Asp.Net_Core_Demo\MessageBoard\MessageBoardApp\MessageBoardApp\Views\Message\MessageBoard.cshtml"
                 Write(Url.Action("SavePostedComments", "Message"));

#line default
#line hidden
                EndContext();
                BeginContext(9392, 143, true);
                WriteLiteral("\',\r\n                    data: GetCommentData\r\n                });\r\n                return request;\r\n            }\r\n\r\n        });\r\n\r\n</script>\r\n");
                EndContext();
            }
            );
            BeginContext(9538, 2, true);
            WriteLiteral("\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
